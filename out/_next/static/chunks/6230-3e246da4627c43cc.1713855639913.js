"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6230],{62731:function(e,t,n){n.d(t,{_:function(){return h}});var o=n(27573),r=(0,n(21777).Z)((0,o.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),i=n(65372),a=n(93648),l=n(99396),s=n(76718),d=n(28790),c=n(51599),u=n(15977),p=n(7653),x=n(94414),m=n(51728);let h=e=>{let{slippagePercentage:t,deadline:n,onUpdateSettings:c}=e,[u,h]=p.useState(null),b=(0,i.Z)();return(0,o.jsxs)(a.Z,{children:[(0,o.jsx)(l.Z,{onClick:e=>{h(e.currentTarget)},children:(0,o.jsx)(r,{sx:{opacity:"0.8"}})}),(0,o.jsx)(g,{anchorEl:u,open:!!u,onClose:()=>{h(null)},children:(0,o.jsxs)(a.Z,{sx:{padding:"1rem",borderRadius:"0.5rem",background:b.palette.background.secondary,border:"1px solid ".concat(b.palette.outline),width:"300px"},children:[(0,o.jsx)(s.Z,{color:"text.secondary",children:"Max slippage"}),(0,o.jsxs)(m.ZP,{style:{marginTop:"4px"},children:[(0,o.jsx)(x.Zf,{textAfter:"%",children:(0,o.jsx)(x.QU,{value:t,onChange:e=>c({slippagePercentage:Number(e.target.value)})})}),(0,o.jsx)(d.Z,{onClick:()=>{c({slippagePercentage:1})},sx:{textTransform:"capitalize",minWidth:"40px"},variant:"contained",children:"Auto"})]}),(0,o.jsx)(s.Z,{color:"text.secondary",sx:{mt:"0.5rem"},children:"Transaction Deadline"}),(0,o.jsxs)(m.ZP,{style:{marginTop:"4px"},children:[(0,o.jsx)(x.Zf,{textAfter:"Seconds",children:(0,o.jsx)(x.QU,{value:n,onChange:e=>c({deadlineTimestamp:Number(e.target.value)})})}),(0,o.jsx)(d.Z,{onClick:()=>{c({deadlineTimestamp:60})},sx:{textTransform:"capitalize",minWidth:"40px"},variant:"contained",children:"Auto"})]})]})})]})},g=(0,c.ZP)(e=>(0,o.jsx)(u.Z,{elevation:0,anchorOrigin:{vertical:30,horizontal:-260},transformOrigin:{vertical:0,horizontal:0},PaperProps:{style:{width:300}},...e}))(e=>{let{theme:t}=e;return{"& .MuiPaper-root":{borderRadius:1,marginTop:t.spacing(1),minWidth:180,color:"light"===t.palette.mode?"rgb(55, 65, 81)":t.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)}}}}})},94414:function(e,t,n){n.d(t,{Fy:function(){return r},QU:function(){return i},Zf:function(){return a}});var o=n(76928);let r=o.ZP.input.attrs(e=>({onWheel:e=>e.target.blur(),onKeyDown:t=>e.disableManual?t.preventDefault():["e","E","+","-"].includes(t.key)&&t.preventDefault(),placeholder:"0.0",min:"0",autoComplete:"off",pattern:"^[0-9]*[.,]?[0-9]*$",type:"number"})).withConfig({componentId:"sc-2b8d657f-0"})(["width:100%;cursor:",";background-color:transparent;border:0;outline-color:transparent;padding:0 0rem 0 0rem;font-size:1.75rem;font-weight:500;flex-grow:2;color:",";opacity:",";outline:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;&:focus-visible{outline:1px solid ",";}&:active,&:focus{border:0;outline-color:transparent;}&::-webkit-outer-spin-button,&::-webkit-inner-spin-button{-webkit-appearance:none;margin:0;}"],e=>e.disabled?"not-allowed":"initial",e=>e.$isLoading?e.theme.textSecondary:e.theme.textPrimary,e=>e.$isLoading?"0.5":"1",e=>{var t;return null===(t=e.theme)||void 0===t?void 0:t.primary}),i=o.ZP.input.attrs(e=>({onWheel:e=>e.target.blur(),onKeyDown:t=>e.disableManual?t.preventDefault():["e","E","+","-"].includes(t.key)&&t.preventDefault(),placeholder:"0.0",min:"0",autoComplete:"off",pattern:"^[0-9]*[.,]?[0-9]*$",type:"number"})).withConfig({componentId:"sc-2b8d657f-1"})(["width:100%;cursor:",";background-color:transparent;border:1px solid ",";outline-color:transparent;padding:8px 8px;padding-right:5rem;border-radius:8px;font-size:1rem;font-weight:500;flex-grow:2;color:",";opacity:",";outline:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:relative;&:focus-visible{outline:1px solid ",";}&:active,&:focus{outline-color:transparent;}&::-webkit-outer-spin-button,&::-webkit-inner-spin-button{-webkit-appearance:none;margin:0;}"],e=>e.disabled?"not-allowed":"initial",e=>e.theme.outline,e=>e.$isLoading?e.theme.textSecondary:e.theme.textPrimary,e=>e.$isLoading?"0.5":"1",e=>{var t;return null===(t=e.theme)||void 0===t?void 0:t.primary}),a=o.ZP.div.withConfig({componentId:"sc-2b8d657f-2"})(["position:relative;&::after{content:'","';position:absolute;top:6px;right:12px;}"],e=>e.textAfter)},46230:function(e,t,n){n.d(t,{e:function(){return Z},r:function(){return T}});var o=n(27573),r=n(2801),i=n(51728),a=n(60775),l=n(99396),s=n(76718),d=n(93648),c=n(28790),u=n(65372),p=n(32859),x=n(7653),m=n(50461);let h=()=>{let[e,t]=(0,x.useState)(null),[n,o]=(0,x.useState)(null),[i,a]=(0,x.useState)(""),[l,s]=(0,x.useState)(""),[d,c]=(0,x.useState)({slippagePercentage:1,deadlineTimestamp:60}),[u,h]=(0,x.useState)(!1),[g,b]=(0,x.useState)({isOpen:!1,txHash:"",txStatus:"SIGN_TX"}),{walletAddress:v,chain:f,blockchainMetadata:y}=(0,r.Os)(),k=(0,p.useSearchParams)(),{data:j,refetch:w}=(0,r.zj)(e,n,f),{mutateAsync:S}=(0,r.S5)(),{mutateAsync:Z}=(0,r.vU)(),{data:T}=(0,r.qo)({chain:f}),C=(null==j?void 0:j.lpBalance)||0,P=(null==j?void 0:j.pooledToken0)||0,A=(null==j?void 0:j.pooledToken1)||0,N=(null==j?void 0:j.poolShare)||0,L=(null==j?void 0:j.totalLpSupply)===0?Number(l)/Number(i||1):(null==j?void 0:j.token0PriceOverToken1)||0,I=(null==j?void 0:j.totalLpSupply)===0?Number(i)/Number(l||1):(null==j?void 0:j.token1PriceOverToken0)||0,W=(null==j?void 0:j.totalLpSupply)===0?Math.sqrt(Number(i||0)*Number(l||0)):Math.min(Number(i||0)*((null==j?void 0:j.totalLpSupply)||0)/((null==j?void 0:j.token0Supply)||1),Number(l||0)*((null==j?void 0:j.totalLpSupply)||0)/((null==j?void 0:j.token1Supply)||1)),M=W/(((null==j?void 0:j.totalLpSupply)||0)+W||1)*100;(0,x.useEffect)(()=>{O()},[f,v,JSON.stringify(T)]);let O=()=>{if(!T)return;let i=k.get("token0"),a=k.get("token1");if(i&&a&&!e&&!n&&i.toLowerCase()!==(null==a?void 0:a.toLowerCase())){let e=T.find(e=>e.address.toLowerCase()===i.toLowerCase()),n=T.find(e=>e.address.toLowerCase()===a.toLowerCase());t(e||T[0]),o(n||T.at(-1)||null);return}t(T[0]),o(T.find(e=>!(0,r.Mg)(e.address)&&!(0,r.N7)(e.address,f)&&e.address!==T[0].address)||null)},U=async()=>{if(!e||!n||!i||!l||!y)return;h(!0);let t=m.Am.loading("Loading..."),o=y.addresses.uniswapV2Router;if(!(await Z({tokenAddresses:[null==e?void 0:e.address,null==n?void 0:n.address],spender:o,minAmount:[Number(i),Number(l)],onGiveAllowance:()=>{b({isOpen:!0,txHash:"",txStatus:"APPROVE_ALLOWANCE"})}})).success){m.Am.dismiss(t),h(!1);return}await S({token0:e,token1:n,token0Amount:Number(i),token1Amount:Number(l),slippacePercentage:d.slippagePercentage,deadline:d.deadlineTimestamp,onTxSent:e=>{let{txHash:n}=e;b({isOpen:!0,txHash:n,txStatus:"TX_IN_PROGRESS"}),m.Am.dismiss(t),(0,m.Am)("Transaction is sent",{type:"default"})},onTxSuccess:e=>{let{txHash:n}=e;b({isOpen:!0,txHash:n,txStatus:"TX_SUCCESS"}),m.Am.dismiss(t),(0,m.Am)("Transaction is success",{type:"success"})},onTxError:e=>{let{txHash:n}=e;b({isOpen:!0,txHash:n,txStatus:"TX_FAILED"}),m.Am.dismiss(t),(0,m.Am)("Transaction is error",{type:"error"})}}),w(),h(!1)},z=(0,r.Mg)(null==e?void 0:e.address)||(0,r.N7)(null==e?void 0:e.address,f),E=(0,r.Mg)(null==n?void 0:n.address)||(0,r.N7)(null==n?void 0:n.address,f),_=!1,R="Add liquidity";return e&&n?i&&l?Number(i)>((null==j?void 0:j.token0Balance)||0)?(_=!0,R="Insufficient ".concat(e.symbol," amount")):Number(l)>((null==j?void 0:j.token1Balance)||0)?(_=!0,R="Insufficient ".concat(n.symbol," amount")):z&&E&&(_=!0,R="Incorrect token pair"):(_=!0,R="Please enter amount"):(_=!0,R="Please select token"),{token0:e,token1:n,token0Amount:i,token1Amount:l,settings:d,allTokens:T,onUpdateToken0:r=>{r.address===(null==n?void 0:n.address)?(t(r),o(e)):t(r),a(""),s("")},onUpdateToken1:r=>{r.address===(null==e?void 0:e.address)&&t(n),o(r),a(""),s("")},onUpdateToken0Amount:e=>{a(e),L&&(null==j?void 0:j.totalLpSupply)&&s(L*Number(e))},onUpdateToken1Amount:e=>{s(e),I&&(null==j?void 0:j.totalLpSupply)&&a(I*Number(e))},onUpdateSettings:e=>{c({...d,...e})},onReset:()=>{a(""),s(""),c({deadlineTimestamp:60,slippagePercentage:1}),h(!1),b({isOpen:!1,txHash:"",txStatus:"SIGN_TX"})},onAddLiquidity:U,isDisabled:_,ctaText:R,isLoading:u,v2PoolInfo:j,summary:{currentLpBalance:C,currentPooledToken0:P,currentPooledToken1:A,currentPoolShare:N,token0Price:L,token1Price:I,lpMinted:W,poolShareForNewToken0Amount:M}}};var g=n(94414),b=n(62731),v=n(95291),f=n(49178),y=n(2056),k=n.n(y),j=n(6952),w=n(45595),S=n(65626);let Z=()=>{let{walletAddress:e,connect:t,chain:n,setChain:u}=(0,r.Os)(),{token0:p,token0Amount:x,token1:m,token1Amount:g,summary:y,onUpdateToken0:j,onUpdateToken0Amount:S,onUpdateToken1:Z,onUpdateToken1Amount:C,v2PoolInfo:P,settings:A,onUpdateSettings:N,allTokens:L,onAddLiquidity:I,ctaText:W,isDisabled:M,isLoading:O}=h();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(a.Z,{maxWidth:"sm",sx:e=>({border:"1px solid ".concat(e.palette.outline),p:"1rem",borderRadius:"1rem",maxWidth:"600px !important"}),children:[(0,o.jsxs)(i.m0,{children:[(0,o.jsxs)(i.ZP,{children:[(0,o.jsx)(k(),{href:"/pool",children:(0,o.jsx)(l.Z,{sx:{mr:"1rem"},children:(0,o.jsx)(f.Z,{sx:{width:"20px"}})})}),(0,o.jsx)(s.Z,{fontWeight:600,variant:"h6",children:"Add Liquidity"})]}),(0,o.jsx)(b._,{slippagePercentage:A.slippagePercentage,deadline:A.deadlineTimestamp,onUpdateSettings:N})]}),(0,o.jsx)(s.Z,{color:"text.secondary",variant:"body2",sx:{mt:"1rem"},children:"Tip: When you add liquidity, you will receive pool tokens representing your position. These tokens automatically earn fees proportional to your share of the pool, and can be redeemed at any time."}),(0,o.jsxs)(d.Z,{children:[(0,o.jsx)(T,{token:p,amount:x,onUpdateAmount:S,onUpdateToken:j,balance:(null==p?void 0:p.balance)||0,tokens:L||[]}),(0,o.jsx)(T,{token:m,amount:g,onUpdateAmount:C,onUpdateToken:Z,balance:(null==m?void 0:m.balance)||0,tokens:L||[]})]}),(0,o.jsx)(s.Z,{variant:"body1",fontWeight:600,sx:{mt:"1rem"},children:"Initial prices and pool share"}),(0,o.jsxs)(d.Z,{sx:e=>({display:"flex",justifyContent:"space-between",alignItems:"center",background:e.palette.background.paper,p:"1rem",borderRadius:"1rem",mt:"1rem"}),children:[(0,o.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,o.jsx)(s.Z,{variant:"h5",fontWeight:600,display:"block",children:(0,r.C1)(y.token1Price,4)}),(0,o.jsxs)(s.Z,{variant:"body1",color:"text.secondary",children:[null==p?void 0:p.symbol," per ",null==m?void 0:m.symbol]})]}),(0,o.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,o.jsx)(s.Z,{variant:"h5",fontWeight:600,display:"block",children:(0,r.C1)(y.token0Price,4)}),(0,o.jsxs)(s.Z,{variant:"body1",color:"text.secondary",children:[null==m?void 0:m.symbol," per ",null==p?void 0:p.symbol]})]}),(0,o.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,o.jsxs)(s.Z,{variant:"h5",fontWeight:600,display:"block",children:[(0,r.az)(y.poolShareForNewToken0Amount,0,2),"%"]}),(0,o.jsx)(s.Z,{variant:"body1",color:"text.secondary",children:"Share of pool"})]})]}),e&&!!n&&(0,o.jsx)(c.Z,{variant:"contained",fullWidth:!0,sx:{mt:"1rem"},disabled:M||O,onClick:I,children:W}),e&&!n&&(0,o.jsx)(c.Z,{variant:"contained",fullWidth:!0,sx:{mt:"1rem"},onClick:()=>u(v.Ez[0].chainIdHex),children:"Change network"}),!e&&(0,o.jsx)(c.Z,{variant:"contained",fullWidth:!0,sx:{mt:"1rem"},onClick:()=>t(),children:"connect Wallet"})]}),(0,o.jsx)(w.I,{v2Pool:P})]})},T=e=>{let{token:t,tokens:n,amount:a,balance:l,onUpdateAmount:p,onUpdateToken:m}=e,h=(0,u.Z)(),[b,v]=(0,x.useState)(!1);return(0,o.jsxs)(d.Z,{sx:{width:"100%",background:h.palette.background.paper,borderRadius:"0.5rem",p:"1rem 1rem",mt:"1rem"},children:[(0,o.jsx)(S.Z,{isOpen:b,onClose:()=>v(!1),tokens:n,onChangeToken:m}),(0,o.jsxs)(i.m0,{children:[(0,o.jsx)(g.Fy,{value:a,onChange:e=>p(e.target.value)}),(0,o.jsx)(j.g,{selectedToken:t,onClick:()=>v(!0)})]}),(0,o.jsxs)(i.m0,{children:[(0,o.jsx)("div",{}),(0,o.jsxs)(i.ZP,{width:"auto",children:[(0,o.jsxs)(s.Z,{color:"text.secondary",variant:"body2",children:["Balance: ",(0,r.az)(l)]}),(0,o.jsx)(c.Z,{sx:{ml:"0px",p:"4px 8px",minWidth:"40px",borderRadius:"2rem",textTransform:"capitalize"},variant:"text",onClick:()=>p(l),children:"Max"})]})]})]})}}}]);