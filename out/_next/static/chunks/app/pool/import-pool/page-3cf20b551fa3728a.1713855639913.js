(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7251],{11883:function(e,n,l){Promise.resolve().then(l.bind(l,85840))},85840:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return T}});var t=l(27573),o=l(2801),i=l(51728),s=l(60775),r=l(99396),d=l(76718),a=l(93648),c=l(34287),u=l(28790),x=l(65372),p=l(49178),h=l(2056),m=l.n(h),k=l(32859),j=l(7653);let v=()=>{let[e,n]=(0,j.useState)(null),[l,t]=(0,j.useState)(null),{chain:i,blockchainMetadata:s}=(0,o.Os)(),{data:r,refetch:d,isLoading:a}=(0,o.zj)(e,l,i),{refetch:c}=(0,o.cX)(i),{data:u}=(0,o.Ru)(i),{mutateAsync:x}=(0,o.Q2)(),{push:p}=(0,k.useRouter)(),h=(null==r?void 0:r.lpBalance)||0,m=(null==r?void 0:r.pooledToken0)||0,v=(null==r?void 0:r.pooledToken1)||0,f=(null==r?void 0:r.poolShare)||0,y=(null==r?void 0:r.token0PriceOverToken1)||0,Z=(null==r?void 0:r.token1PriceOverToken0)||0;(0,j.useEffect)(()=>{g()},[JSON.stringify(u)]);let g=()=>{!e&&u&&n(u[0]||null)},b=async()=>{e&&l&&s&&r&&(await x({token0:e,token1:l}),d(),c(),p("/pool"))},T=(0,o.Mg)(null==e?void 0:e.address)||(0,o.N7)(null==e?void 0:e.address,i),C=(0,o.Mg)(null==l?void 0:l.address)||(0,o.N7)(null==l?void 0:l.address,i),O=!1,P="Manage this pool";return e&&l?T&&C&&(O=!0,P="Incorrect token pair"):(O=!0,P="Please select token"),{token0:e,token1:l,allTokens:u,onUpdateToken0:o=>{o.address===(null==l?void 0:l.address)?(n(o),t(e)):n(o)},onUpdateToken1:o=>{o.address===(null==e?void 0:e.address)&&n(l),t(o)},onReset:()=>{},isDisabled:O,ctaText:P,isLoading:a,v2PoolInfo:r,onImportPool:b,summary:{currentLpBalance:h,currentPooledToken0:m,currentPooledToken1:v,currentPoolShare:f,token0Price:y,token1Price:Z}}};var f=l(45595),y=l(65626),Z=l(6952);let g=()=>{let{walletAddress:e,connect:n,chain:l}=(0,o.Os)(),{token0:x,token1:h,onUpdateToken0:k,onUpdateToken1:j,v2PoolInfo:y,onImportPool:Z,allTokens:g,ctaText:T,isDisabled:C,isLoading:O}=v();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.Z,{maxWidth:"sm",sx:e=>({border:"1px solid ".concat(e.palette.outline),p:"1rem",borderRadius:"1rem",maxWidth:"500px !important"}),children:[(0,t.jsx)(i.m0,{children:(0,t.jsxs)(i.ZP,{children:[(0,t.jsx)(m(),{href:"/pool",children:(0,t.jsx)(r.Z,{sx:{mr:"1rem"},children:(0,t.jsx)(p.Z,{sx:{width:"20px"}})})}),(0,t.jsx)(d.Z,{fontWeight:600,variant:"h6",children:"Import Pool"})]})}),(0,t.jsx)(d.Z,{color:"text.secondary",variant:"body2",sx:{mt:"1rem"},children:"Tip: Use this tool to find v2 pools that don't automatically appear in the interface"}),(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(b,{token:x,onUpdateToken:k,tokens:g||[]}),(0,t.jsx)(b,{token:h,onUpdateToken:j,tokens:g||[]})]}),O&&(0,t.jsx)(c.Z,{size:"24px",sx:{margin:"auto",display:"block",marginTop:"0.5rem"}}),!!x&&!!h&&!O&&!(null==y?void 0:y.lpBalance)&&(0,t.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",mt:"1rem"},children:[(0,t.jsx)(d.Z,{display:"block",children:"You don't have liqudity in this pool yet."}),(0,t.jsx)(m(),{href:"/pool/add-liquidity",children:(0,t.jsx)(u.Z,{children:"Add Liquidity"})})]}),e&&!!l&&!!(null==y?void 0:y.lpBalance)&&(0,t.jsx)(u.Z,{variant:"contained",fullWidth:!0,sx:{mt:"1rem"},disabled:C||O||!(null==y?void 0:y.lpBalance),onClick:Z,children:T}),!e&&(0,t.jsx)(u.Z,{variant:"contained",fullWidth:!0,sx:{mt:"1rem"},onClick:()=>n(),children:"connect Wallet"})]}),!!(null==y?void 0:y.lpBalance)&&(0,t.jsx)(f.I,{v2Pool:y})]})},b=e=>{let{token:n,tokens:l,onUpdateToken:o}=e,i=(0,x.Z)(),[s,r]=(0,j.useState)(!1);return(0,t.jsxs)(a.Z,{sx:{width:"100%",background:i.palette.background.paper,borderRadius:"0.5rem",p:"0rem 0rem",mt:"1rem"},children:[(0,t.jsx)(y.Z,{isOpen:s,onClose:()=>r(!1),tokens:l,onChangeToken:o}),(0,t.jsx)(Z.o,{selectedToken:n,onClick:()=>r(!0)})]})};function T(){return(0,t.jsx)("main",{style:{minHeight:"80vh",background:"#000",paddingTop:"8rem"},children:(0,t.jsx)(a.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",pb:"4rem"},children:(0,t.jsx)(o.hu,{children:(0,t.jsx)(g,{})})})})}}},function(e){e.O(0,[5211,7359,571,7219,6928,2436,9749,2613,4763,2844,1293,4016,1744],function(){return e(e.s=11883)}),_N_E=e.O()}]);